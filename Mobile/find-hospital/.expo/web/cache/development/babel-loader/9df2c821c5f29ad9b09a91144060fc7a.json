{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Container, Animation, Input, Button, ButtonText, AddressArea, Text } from \"./styles\";\nimport logo from \"../../assets/logo.png\";\nimport api from \"../../services/api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Home() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    cep = _useState2[0],\n    setCep = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    address = _useState4[0],\n    setAddress = _useState4[1];\n  function handleBuscar() {\n    return _handleBuscar.apply(this, arguments);\n  }\n  function _handleBuscar() {\n    _handleBuscar = _asyncToGenerator(function* () {\n      try {\n        var _yield$api$get = yield api.get(cep + \"/json/\"),\n          status = _yield$api$get.status,\n          data = _yield$api$get.data;\n        if (status != 200 || data.erro) {\n          Alert.alert('Buscar', 'Digite um CEP válido.');\n        } else {\n          setAddress(data);\n        }\n      } catch (error) {\n        Alert.alert('Buscar', 'Digite um CEP válido');\n      }\n    });\n    return _handleBuscar.apply(this, arguments);\n  }\n  ;\n  function handleLimpar() {\n    return _handleLimpar.apply(this, arguments);\n  }\n  function _handleLimpar() {\n    _handleLimpar = _asyncToGenerator(function* () {\n      setAddress(null);\n      setCep('');\n    });\n    return _handleLimpar.apply(this, arguments);\n  }\n  return _jsxs(Container, {\n    children: [_jsx(Animation, {\n      animation: \"bounceInDown\",\n      delay: 100,\n      duration: 1500,\n      children: _jsx(Image, {\n        source: logo\n      })\n    }), _jsxs(Animation, {\n      animation: \"bounceInRight\",\n      delay: 100,\n      duration: 1500,\n      children: [!address && _jsx(Input, {\n        keyboardType: \"numeric\",\n        maxLength: 8,\n        onChangeText: setCep,\n        onSubmitEditing: handleBuscar,\n        placeholder: \"Digite o CEP que deseja buscar\",\n        placeholderTextColor: \"#2F48D4\",\n        value: cep\n      }), _jsx(Button, {\n        activeOpacity: 0.8,\n        onPress: address ? handleLimpar : handleBuscar,\n        children: _jsx(ButtonText, {\n          children: address ? 'Limpar' : 'Buscar'\n        })\n      })]\n    }), address && _jsxs(AddressArea, {\n      children: [_jsxs(Text, {\n        children: [\"CEP: \", cep]\n      }), _jsx(Text, {\n        children: address.logradouro\n      }), _jsxs(Text, {\n        children: [\"Bairro: \", address.bairro]\n      }), _jsxs(Text, {\n        children: [\"Cidade: \", address.localidade]\n      }), _jsxs(Text, {\n        children: [\"IBGE: \", address.ibge]\n      }), _jsxs(Text, {\n        children: [\"DDD: \", address.ddd]\n      }), _jsxs(Text, {\n        children: [\"UF: \", address.uf]\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","Container","Animation","Input","Button","ButtonText","AddressArea","Text","logo","api","Home","cep","setCep","address","setAddress","handleBuscar","get","status","data","erro","Alert","alert","error","handleLimpar","logradouro","bairro","localidade","ibge","ddd","uf"],"sources":["C:/Users/geraldo.cruz/Desktop/SENAC/Desenvolvimento e Integração de Sistemas Móveis/2022.1/manhã/Aula 13/find-cep-main/src/screens/Home/index.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Alert, Image } from 'react-native';\r\nimport {\r\n    Container,\r\n    Animation,\r\n    Input,\r\n    Button,\r\n    ButtonText,\r\n    AddressArea,\r\n    Text\r\n} from './styles';\r\nimport logo from '../../assets/logo.png';\r\nimport api from '../../services/api';\r\n\r\nexport default function Home() {\r\n    const [cep, setCep] = useState('');\r\n    const [address, setAddress] = useState(null);\r\n\r\n    async function handleBuscar() {\r\n        try {\r\n            const { status, data } = await api.get(`${cep}/json/`);\r\n\r\n            if (status != 200 || data.erro) {\r\n                Alert.alert('Buscar', 'Digite um CEP válido.');\r\n            } else {\r\n                setAddress(data);\r\n            }\r\n\r\n        } catch (error) {\r\n            Alert.alert('Buscar', 'Digite um CEP válido');\r\n        }\r\n    };\r\n\r\n    async function handleLimpar() {\r\n        setAddress(null);\r\n        setCep('');\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Animation\r\n                animation='bounceInDown'\r\n                delay={100}\r\n                duration={1500}\r\n            >\r\n                <Image source={logo} />\r\n            </Animation>\r\n\r\n            <Animation\r\n                animation='bounceInRight'\r\n                delay={100}\r\n                duration={1500}\r\n            >\r\n                {!address &&\r\n                    <Input\r\n                        keyboardType=\"numeric\"\r\n                        maxLength={8}\r\n                        onChangeText={setCep}\r\n                        onSubmitEditing={handleBuscar}\r\n                        placeholder=\"Digite o CEP que deseja buscar\"\r\n                        placeholderTextColor=\"#2F48D4\"\r\n                        value={cep}\r\n                    />\r\n                }\r\n\r\n                <Button\r\n                    activeOpacity={0.8}\r\n                    onPress={address ? handleLimpar : handleBuscar}>\r\n                    <ButtonText>\r\n                        {address ? 'Limpar' : 'Buscar'}\r\n                    </ButtonText>\r\n                </Button>\r\n            </Animation>\r\n\r\n            {address &&\r\n                <AddressArea>\r\n                    <Text>CEP: {cep}</Text>\r\n                    <Text>{address.logradouro}</Text>\r\n                    <Text>Bairro: {address.bairro}</Text>\r\n                    <Text>Cidade: {address.localidade}</Text>\r\n                    <Text>IBGE: {address.ibge}</Text>\r\n                    <Text>DDD: {address.ddd}</Text>\r\n                    <Text>UF: {address.uf}</Text>\r\n                </AddressArea>\r\n            }\r\n        </Container>\r\n    );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAExC,SACIC,SAAS,EACTC,SAAS,EACTC,KAAK,EACLC,MAAM,EACNC,UAAU,EACVC,WAAW,EACXC,IAAI;AAER,OAAOC,IAAI;AACX,OAAOC,GAAG;AAA2B;AAAA;AAErC,eAAe,SAASC,IAAI,GAAG;EAC3B,gBAAsBV,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3BW,GAAG;IAAEC,MAAM;EAClB,iBAA8BZ,QAAQ,CAAC,IAAI,CAAC;IAAA;IAArCa,OAAO;IAAEC,UAAU;EAAmB,SAE9BC,YAAY;IAAA;EAAA;EAAA;IAAA,kCAA3B,aAA8B;MAC1B,IAAI;QACA,2BAA+BN,GAAG,CAACO,GAAG,CAAIL,GAAG,YAAS;UAA9CM,MAAM,kBAANA,MAAM;UAAEC,IAAI,kBAAJA,IAAI;QAEpB,IAAID,MAAM,IAAI,GAAG,IAAIC,IAAI,CAACC,IAAI,EAAE;UAC5BC,KAAK,CAACC,KAAK,CAAC,QAAQ,EAAE,uBAAuB,CAAC;QAClD,CAAC,MAAM;UACHP,UAAU,CAACI,IAAI,CAAC;QACpB;MAEJ,CAAC,CAAC,OAAOI,KAAK,EAAE;QACZF,KAAK,CAACC,KAAK,CAAC,QAAQ,EAAE,sBAAsB,CAAC;MACjD;IACJ,CAAC;IAAA;EAAA;EAAA;EAAC,SAEaE,YAAY;IAAA;EAAA;EAAA;IAAA,kCAA3B,aAA8B;MAC1BT,UAAU,CAAC,IAAI,CAAC;MAChBF,MAAM,CAAC,EAAE,CAAC;IACd,CAAC;IAAA;EAAA;EAED,OACI,MAAC,SAAS;IAAA,WACN,KAAC,SAAS;MACN,SAAS,EAAC,cAAc;MACxB,KAAK,EAAE,GAAI;MACX,QAAQ,EAAE,IAAK;MAAA,UAEf,KAAC,KAAK;QAAC,MAAM,EAAEJ;MAAK;IAAG,EACf,EAEZ,MAAC,SAAS;MACN,SAAS,EAAC,eAAe;MACzB,KAAK,EAAE,GAAI;MACX,QAAQ,EAAE,IAAK;MAAA,WAEd,CAACK,OAAO,IACL,KAAC,KAAK;QACF,YAAY,EAAC,SAAS;QACtB,SAAS,EAAE,CAAE;QACb,YAAY,EAAED,MAAO;QACrB,eAAe,EAAEG,YAAa;QAC9B,WAAW,EAAC,gCAAgC;QAC5C,oBAAoB,EAAC,SAAS;QAC9B,KAAK,EAAEJ;MAAI,EACb,EAGN,KAAC,MAAM;QACH,aAAa,EAAE,GAAI;QACnB,OAAO,EAAEE,OAAO,GAAGU,YAAY,GAAGR,YAAa;QAAA,UAC/C,KAAC,UAAU;UAAA,UACNF,OAAO,GAAG,QAAQ,GAAG;QAAQ;MACrB,EACR;IAAA,EACD,EAEXA,OAAO,IACJ,MAAC,WAAW;MAAA,WACR,MAAC,IAAI;QAAA,oBAAOF,GAAG;MAAA,EAAQ,EACvB,KAAC,IAAI;QAAA,UAAEE,OAAO,CAACW;MAAU,EAAQ,EACjC,MAAC,IAAI;QAAA,uBAAUX,OAAO,CAACY,MAAM;MAAA,EAAQ,EACrC,MAAC,IAAI;QAAA,uBAAUZ,OAAO,CAACa,UAAU;MAAA,EAAQ,EACzC,MAAC,IAAI;QAAA,qBAAQb,OAAO,CAACc,IAAI;MAAA,EAAQ,EACjC,MAAC,IAAI;QAAA,oBAAOd,OAAO,CAACe,GAAG;MAAA,EAAQ,EAC/B,MAAC,IAAI;QAAA,mBAAMf,OAAO,CAACgB,EAAE;MAAA,EAAQ;IAAA,EACnB;EAAA,EAEV;AAEpB"},"metadata":{},"sourceType":"module"}